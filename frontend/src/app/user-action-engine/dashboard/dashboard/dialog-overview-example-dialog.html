<h1 mat-dialog-title>Create project and User Groups</h1>

<div>
  <form name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate>
    <mat-accordion>
      <mat-expansion-panel [expanded]="!data.showUserGroups" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            Project
          </mat-panel-title>
          <mat-panel-description>
            Create new project
          </mat-panel-description>
        </mat-expansion-panel-header>

        <div class="form-group" >
          <label for="firstName">Title of project</label>
          <input type="text" class="form-control" name="firstName" [(ngModel)]="action.title" #firstName="ngModel" required />
          <div *ngIf="f.submitted && !firstName.valid" class="help-block">Please enter the title</div>
        </div>
        <div class="form-group" >
          <label for="lastName">Description</label>
          <input type="text" class="form-control" name="lastName" [(ngModel)]="action.description" #lastName="ngModel" required />
          <div *ngIf="f.submitted && !lastName.valid" class="help-block">Please enter the description for the project</div>
        </div>

        <button [disabled]="loading" class="btn btn-primary" style="margin-top: 20px">Create project</button>
        <input type="file" #filePicker multiple style="visibility: hidden" (change)="importProjectAsZip($event)" >
        <button [disabled]="loading" class="btn btn-primary" style="margin-top: 20px" (click)="filePicker.click();">Import project</button>
        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>

      </mat-expansion-panel>


      <mat-expansion-panel [expanded]="data.showUserGroups">
        <mat-expansion-panel-header>
          <mat-panel-title>
            User Groups
          </mat-panel-title>
          <mat-panel-description>
            work collaboratively
          </mat-panel-description>
        </mat-expansion-panel-header>

        <div class="form-group" >
          <label for="firstName">Title</label>
          <input type="text" class="form-control" name="firstName" [(ngModel)]="usergroup.title" #firstName="ngModel" required />
          <div *ngIf="f.submitted && !firstName.valid" class="help-block">Please enter the title</div>
        </div>
        <div class="form-group" >
          <label for="lastName">Description</label>
          <input type="text" class="form-control" name="lastName" [(ngModel)]="usergroup.description" #lastName="ngModel" required />
          <div *ngIf="f.submitted && !lastName.valid" class="help-block">Please enter the description</div>
        </div>

        <button [disabled]="loading" class="btn btn-primary" style="margin-top: 20px" (click)="createUserGroup()" >Create User Group</button>

      </mat-expansion-panel>

    </mat-accordion>

    <div>
      <button  type="button" mat-button (click)="close()">Close</button>
    </div>
  </form>

</div>
